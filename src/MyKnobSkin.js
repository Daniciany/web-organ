import React, { useState } from 'react'
import Knob, { SkinWrap, composeTwo, useAngleUpdater } from 'react-dial-knob'

export default function MyKnobSkin(props) {
    const [angle, setAngle] = useAngleUpdater(props.value)
    const angleChangeHandler = composeTwo(setAngle, props.onAngleChange)
    const interactionChangeHandler = props.onInteractionChange

    return (
        <SkinWrap style={props.style}>
            <Knob
                diameter={props.diameter}
                value={props.value}
                min={props.min}
                max={props.max}
                step={props.step}
                spaceMaxFromZero={props.spaceMaxFromZero}
                ariaLabelledBy={props.ariaLabelledBy}
                ariaValueText={props.ariaValueText}
                knobStyle={{ cursor: 'pointer', ...props.knobStyle }}
                onAngleChange={angleChangeHandler}
                onInteractionChange={interactionChangeHandler}
                onValueChange={props.onValueChange}
            >
                <svg
                    viewBox="0 0 100 100"
                    transform={`rotate(${angle})`}
                    style={{ transform: `rotate(${angle}deg)` }}
                >
                    <svg width="100" height="100" viewBox="0 0 128 128" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="64" cy="64" r="64" fill="#303030"/>
                        <rect x="61" width="6" height="25" rx="3" fill="#E9E9E9"/>
                        <path d="M36.6081 41.8182L39.4419 50.1108H39.5563L42.3901 41.8182H44.0506L40.3865 52H38.6117L34.9476 41.8182H36.6081ZM47.0572 41.8182V52H45.521V41.8182H47.0572ZM49.2944 52V41.8182H53.0231C53.7456 41.8182 54.3439 41.9375 54.8178 42.1761C55.2918 42.4115 55.6464 42.7313 55.8817 43.1357C56.1171 43.5367 56.2347 43.9891 56.2347 44.4929C56.2347 44.9171 56.1568 45.2751 56.0011 45.5668C55.8453 45.8551 55.6365 46.0871 55.3746 46.2628C55.1161 46.4351 54.8311 46.5611 54.5195 46.6406V46.7401C54.8576 46.7566 55.1874 46.866 55.5089 47.0682C55.8337 47.267 56.1022 47.5504 56.3143 47.9183C56.5264 48.2862 56.6325 48.7337 56.6325 49.2607C56.6325 49.781 56.5098 50.2483 56.2646 50.6626C56.0226 51.0736 55.6481 51.4001 55.141 51.642C54.6339 51.8807 53.9859 52 53.1971 52H49.2944ZM50.8306 50.6825H53.0479C53.7837 50.6825 54.3107 50.54 54.6289 50.255C54.9471 49.9699 55.1062 49.6136 55.1062 49.1861C55.1062 48.8646 55.025 48.5696 54.8626 48.3011C54.7002 48.0327 54.4682 47.8189 54.1665 47.6598C53.8683 47.5007 53.5136 47.4212 53.1026 47.4212H50.8306V50.6825ZM50.8306 46.223H52.8888C53.2335 46.223 53.5434 46.1567 53.8185 46.0241C54.0969 45.8916 54.3174 45.706 54.4798 45.4673C54.6455 45.2254 54.7283 44.9403 54.7283 44.6122C54.7283 44.1913 54.5808 43.8383 54.2859 43.5533C53.9909 43.2682 53.5385 43.1257 52.9286 43.1257H50.8306V46.223ZM58.4545 52V41.8182H62.0838C62.8726 41.8182 63.5272 41.9541 64.0476 42.2259C64.5713 42.4976 64.9624 42.8738 65.2209 43.3544C65.4794 43.8317 65.6087 44.3835 65.6087 45.0099C65.6087 45.633 65.4777 46.1816 65.2159 46.6555C64.9574 47.1262 64.5663 47.4924 64.0426 47.7543C63.5223 48.0161 62.8677 48.147 62.0788 48.147H59.3295V46.8246H61.9396C62.4368 46.8246 62.8411 46.7533 63.1527 46.6108C63.4676 46.4683 63.6979 46.2611 63.8438 45.9893C63.9896 45.7176 64.0625 45.3911 64.0625 45.0099C64.0625 44.6255 63.9879 44.2924 63.8388 44.0107C63.6929 43.7289 63.4626 43.5135 63.1477 43.3643C62.8362 43.2119 62.4268 43.1357 61.9197 43.1357H59.9908V52H58.4545ZM63.4808 47.4062L65.9964 52H64.2464L61.7805 47.4062H63.4808ZM68.3381 52H66.7074L70.3714 41.8182H72.1463L75.8104 52H74.1797L71.3011 43.6676H71.2216L68.3381 52ZM68.6115 48.0128H73.9013V49.3054H68.6115V48.0128ZM75.5755 43.1406V41.8182H83.4554V43.1406H80.2786V52H78.7473V43.1406H75.5755ZM93.6037 46.9091C93.6037 47.9962 93.4048 48.9309 93.0071 49.7131C92.6094 50.492 92.0642 51.0919 91.3714 51.5128C90.6821 51.9304 89.8982 52.1392 89.0199 52.1392C88.1383 52.1392 87.3511 51.9304 86.6584 51.5128C85.969 51.0919 85.4254 50.4903 85.0277 49.7081C84.63 48.9259 84.4311 47.9929 84.4311 46.9091C84.4311 45.822 84.63 44.889 85.0277 44.1101C85.4254 43.3279 85.969 42.728 86.6584 42.3104C87.3511 41.8894 88.1383 41.679 89.0199 41.679C89.8982 41.679 90.6821 41.8894 91.3714 42.3104C92.0642 42.728 92.6094 43.3279 93.0071 44.1101C93.4048 44.889 93.6037 45.822 93.6037 46.9091ZM92.0824 46.9091C92.0824 46.0805 91.9482 45.3828 91.6797 44.8161C91.4145 44.246 91.05 43.8151 90.5859 43.5234C90.1252 43.2285 89.6032 43.081 89.0199 43.081C88.4332 43.081 87.9096 43.2285 87.4489 43.5234C86.9882 43.8151 86.6236 44.246 86.3551 44.8161C86.09 45.3828 85.9574 46.0805 85.9574 46.9091C85.9574 47.7377 86.09 48.437 86.3551 49.0071C86.6236 49.5739 86.9882 50.0047 87.4489 50.2997C87.9096 50.5914 88.4332 50.7372 89.0199 50.7372C89.6032 50.7372 90.1252 50.5914 90.5859 50.2997C91.05 50.0047 91.4145 49.5739 91.6797 49.0071C91.9482 48.437 92.0824 47.7377 92.0824 46.9091ZM51.2961 69H49.6654L53.3295 58.8182H55.1043L58.7684 69H57.1377L54.2591 60.6676H54.1796L51.2961 69ZM51.5695 65.0128H56.8593V66.3054H51.5695V65.0128ZM68.4568 58.8182V69H67.0448L61.8694 61.5327H61.7749V69H60.2387V58.8182H61.6606L66.841 66.2955H66.9355V58.8182H68.4568ZM73.9939 69H70.6977V58.8182H74.0983C75.0959 58.8182 75.9527 59.022 76.6686 59.4297C77.3845 59.834 77.933 60.4157 78.3142 61.1747C78.6987 61.9304 78.8909 62.8369 78.8909 63.8942C78.8909 64.9548 78.697 65.8662 78.3092 66.6286C77.9247 67.3909 77.3679 67.9775 76.6388 68.3885C75.9096 68.7962 75.028 69 73.9939 69ZM72.2339 67.6577H73.9094C74.6849 67.6577 75.3296 67.5118 75.8433 67.2202C76.357 66.9252 76.7415 66.4993 76.9967 65.9425C77.2519 65.3823 77.3795 64.6996 77.3795 63.8942C77.3795 63.0954 77.2519 62.4176 76.9967 61.8608C76.7448 61.304 76.3686 60.8814 75.8682 60.593C75.3677 60.3047 74.7462 60.1605 74.0038 60.1605H72.2339V67.6577ZM44.1749 79.1293H42.6238C42.5641 78.7978 42.4531 78.5062 42.2907 78.2543C42.1283 78.0024 41.9294 77.7886 41.6941 77.6129C41.4587 77.4373 41.1953 77.3047 40.9036 77.2152C40.6152 77.1257 40.3087 77.081 39.9838 77.081C39.3972 77.081 38.8719 77.2285 38.4078 77.5234C37.9471 77.8184 37.5826 78.2509 37.3141 78.821C37.0489 79.3911 36.9164 80.0871 36.9164 80.9091C36.9164 81.7377 37.0489 82.437 37.3141 83.0071C37.5826 83.5772 37.9488 84.008 38.4128 84.2997C38.8768 84.5914 39.3989 84.7372 39.9789 84.7372C40.3004 84.7372 40.6053 84.6941 40.8936 84.608C41.1853 84.5185 41.4488 84.3875 41.6841 84.2152C41.9194 84.0429 42.1183 83.8324 42.2807 83.5838C42.4464 83.3319 42.5608 83.0436 42.6238 82.7188L44.1749 82.7237C44.092 83.2242 43.9313 83.6849 43.6926 84.1058C43.4573 84.5234 43.1541 84.8847 42.7828 85.1896C42.415 85.4912 41.994 85.7249 41.5201 85.8906C41.0461 86.0563 40.5291 86.1392 39.9689 86.1392C39.0873 86.1392 38.3018 85.9304 37.6124 85.5128C36.923 85.0919 36.3794 84.4903 35.9817 83.7081C35.5873 82.9259 35.3901 81.9929 35.3901 80.9091C35.3901 79.822 35.589 78.889 35.9867 78.1101C36.3844 77.3279 36.928 76.728 37.6174 76.3104C38.3068 75.8894 39.0906 75.679 39.9689 75.679C40.5092 75.679 41.013 75.7569 41.4803 75.9126C41.9509 76.0651 42.3735 76.2905 42.748 76.5888C43.1226 76.8838 43.4325 77.245 43.6777 77.6726C43.923 78.0968 44.0887 78.5824 44.1749 79.1293ZM46.0131 86V75.8182H47.5494V80.2429H52.6254V75.8182H54.1665V86H52.6254V81.5604H47.5494V86H46.0131ZM65.2482 80.9091C65.2482 81.9962 65.0494 82.9309 64.6516 83.7131C64.2539 84.492 63.7087 85.0919 63.016 85.5128C62.3266 85.9304 61.5427 86.1392 60.6644 86.1392C59.7828 86.1392 58.9956 85.9304 58.3029 85.5128C57.6135 85.0919 57.07 84.4903 56.6722 83.7081C56.2745 82.9259 56.0756 81.9929 56.0756 80.9091C56.0756 79.822 56.2745 78.889 56.6722 78.1101C57.07 77.3279 57.6135 76.728 58.3029 76.3104C58.9956 75.8894 59.7828 75.679 60.6644 75.679C61.5427 75.679 62.3266 75.8894 63.016 76.3104C63.7087 76.728 64.2539 77.3279 64.6516 78.1101C65.0494 78.889 65.2482 79.822 65.2482 80.9091ZM63.7269 80.9091C63.7269 80.0805 63.5927 79.3828 63.3242 78.8161C63.0591 78.246 62.6945 77.8151 62.2305 77.5234C61.7698 77.2285 61.2478 77.081 60.6644 77.081C60.0778 77.081 59.5541 77.2285 59.0934 77.5234C58.6327 77.8151 58.2681 78.246 57.9996 78.8161C57.7345 79.3828 57.6019 80.0805 57.6019 80.9091C57.6019 81.7377 57.7345 82.437 57.9996 83.0071C58.2681 83.5739 58.6327 84.0047 59.0934 84.2997C59.5541 84.5914 60.0778 84.7372 60.6644 84.7372C61.2478 84.7372 61.7698 84.5914 62.2305 84.2997C62.6945 84.0047 63.0591 83.5739 63.3242 83.0071C63.5927 82.437 63.7269 81.7377 63.7269 80.9091ZM67.1635 86V75.8182H70.7928C71.5816 75.8182 72.2362 75.9541 72.7566 76.2259C73.2802 76.4976 73.6713 76.8738 73.9299 77.3544C74.1884 77.8317 74.3176 78.3835 74.3176 79.0099C74.3176 79.633 74.1867 80.1816 73.9249 80.6555C73.6664 81.1262 73.2753 81.4924 72.7516 81.7543C72.2312 82.0161 71.5766 82.147 70.7878 82.147H68.0385V80.8246H70.6486C71.1458 80.8246 71.5501 80.7533 71.8617 80.6108C72.1766 80.4683 72.4069 80.2611 72.5527 79.9893C72.6986 79.7176 72.7715 79.3911 72.7715 79.0099C72.7715 78.6255 72.6969 78.2924 72.5478 78.0107C72.4019 77.7289 72.1716 77.5135 71.8567 77.3643C71.5452 77.2119 71.1358 77.1357 70.6287 77.1357H68.6998V86H67.1635ZM72.1898 81.4062L74.7054 86H72.9554L70.4895 81.4062H72.1898ZM82.7346 75.8182H84.2757V82.5149C84.2757 83.2275 84.1084 83.8589 83.7736 84.4091C83.4389 84.956 82.9682 85.3868 82.3617 85.7017C81.7551 86.0133 81.0442 86.169 80.2289 86.169C79.4168 86.169 78.7076 86.0133 78.101 85.7017C77.4945 85.3868 77.0239 84.956 76.6891 84.4091C76.3543 83.8589 76.187 83.2275 76.187 82.5149V75.8182H77.7232V82.3906C77.7232 82.8513 77.8243 83.2607 78.0265 83.6186C78.2319 83.9766 78.522 84.2583 78.8965 84.4638C79.271 84.666 79.7151 84.767 80.2289 84.767C80.7459 84.767 81.1917 84.666 81.5662 84.4638C81.9441 84.2583 82.2324 83.9766 82.4313 83.6186C82.6335 83.2607 82.7346 82.8513 82.7346 82.3906V75.8182ZM92.0625 78.4929C92.0095 78.0223 91.7907 77.6577 91.4062 77.3991C91.0218 77.1373 90.5379 77.0064 89.9545 77.0064C89.5369 77.0064 89.1757 77.0727 88.8707 77.2053C88.5658 77.3345 88.3288 77.5135 88.1598 77.7422C87.9941 77.9676 87.9112 78.2244 87.9112 78.5128C87.9112 78.7547 87.9676 78.9635 88.0803 79.1392C88.1963 79.3149 88.3471 79.4624 88.5327 79.5817C88.7216 79.6977 88.9238 79.7955 89.1392 79.875C89.3546 79.9512 89.5618 80.0142 89.7607 80.0639L90.755 80.3224C91.0798 80.402 91.4129 80.5097 91.7543 80.6456C92.0956 80.7815 92.4122 80.9605 92.7038 81.1825C92.9955 81.4046 93.2308 81.6797 93.4098 82.0078C93.5921 82.3359 93.6832 82.7287 93.6832 83.1861C93.6832 83.7628 93.5341 84.2749 93.2358 84.7223C92.9408 85.1697 92.5116 85.5227 91.9482 85.7812C91.388 86.0398 90.7102 86.169 89.9148 86.169C89.1525 86.169 88.4929 86.0481 87.9361 85.8061C87.3793 85.5642 86.9434 85.2211 86.6286 84.777C86.3137 84.3295 86.1397 83.7992 86.1065 83.1861H87.6477C87.6776 83.554 87.7969 83.8606 88.0057 84.1058C88.2178 84.3478 88.4879 84.5284 88.8161 84.6477C89.1475 84.7637 89.5104 84.8217 89.9048 84.8217C90.339 84.8217 90.7251 84.7538 91.0632 84.6179C91.4046 84.4787 91.6731 84.2865 91.8686 84.0412C92.0642 83.7926 92.1619 83.5026 92.1619 83.1712C92.1619 82.8696 92.0758 82.6226 91.9034 82.4304C91.7344 82.2382 91.504 82.0791 91.2124 81.9531C90.924 81.8272 90.5975 81.7161 90.233 81.62L89.0298 81.2919C88.2145 81.0698 87.5682 80.7434 87.0909 80.3125C86.617 79.8816 86.38 79.3116 86.38 78.6023C86.38 78.0156 86.5391 77.5036 86.8572 77.0661C87.1754 76.6286 87.6063 76.2888 88.1499 76.0469C88.6934 75.8016 89.3066 75.679 89.9893 75.679C90.6787 75.679 91.2869 75.8 91.8139 76.0419C92.3442 76.2839 92.7618 76.617 93.0668 77.0412C93.3717 77.4621 93.5308 77.946 93.544 78.4929H92.0625Z" fill="white"/>
                    </svg>
                </svg>
            </Knob>
        </SkinWrap>
    )
}